<!DOCTYPE html>
<html lang="en">
<head>
  <title>Make Your Own Burger</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="Style.css">

  <script>
    (function () {
      const theme = localStorage.getItem('theme') || 'dark';
      if (theme === 'light') document.documentElement.className = 'light-mode';
    })();
  </script>

  <style>
    /* Keep page layout stable */
    .builder-wrap {
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.12);
      background: rgba(255,255,255,0.92);
    }
    .builder-panel {
      padding: 16px;
      height: 100%;
      background: rgba(255,255,255,0.98);
    }
    .builder-panel h4 { margin: 14px 0 8px; font-size: 1.05rem; }
    .builder-panel label { display:block; margin:6px 0; cursor:pointer; user-select:none; }

    /* "3D" Stage */
    .stage-wrap {
      position: relative;
      height: 560px;
      min-height: 560px;
      width: 100%;
      overflow: hidden;
      background: radial-gradient(ellipse at top, rgba(255,255,255,0.08), rgba(0,0,0,0.92));
    }

    /* Perspective container */
    .stage-perspective {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      perspective: 900px;
    }

    /* Rotating group */
    .burger-rotator {
      width: min(520px, 95%);
      height: min(520px, 95%);
      position: relative;
      transform-style: preserve-3d;
      animation: spinY 8s linear infinite;
      will-change: transform;
    }

    /* Slight tilt makes it feel more 3D */
    .burger-rotator {
      transform: rotateX(10deg);
    }

    @keyframes spinY {
      0%   { transform: rotateX(10deg) rotateY(0deg); }
      100% { transform: rotateX(10deg) rotateY(360deg); }
    }

    /* Layer stack */
    .burger-layer {
      position: absolute;
      left: 50%;
      top: 50%;
      transform-style: preserve-3d;
      transform: translate(-50%, -50%);
      width: 78%;
      height: auto;
      pointer-events: none;
      filter: drop-shadow(0 10px 14px rgba(0,0,0,0.45));
    }

    /* Each layer gets a tiny depth offset to create parallax during rotation */
    .z0  { transform: translate(-50%, -50%) translateZ(0px); }
    .z5  { transform: translate(-50%, -50%) translateZ(5px); }
    .z10 { transform: translate(-50%, -50%) translateZ(10px); }
    .z15 { transform: translate(-50%, -50%) translateZ(15px); }
    .z20 { transform: translate(-50%, -50%) translateZ(20px); }
    .z25 { transform: translate(-50%, -50%) translateZ(25px); }
    .z30 { transform: translate(-50%, -50%) translateZ(30px); }
    .z35 { transform: translate(-50%, -50%) translateZ(35px); }
    .z40 { transform: translate(-50%, -50%) translateZ(40px); }

    /* Make bun look dominant */
    .layer-bun { width: 86%; }

    /* Stage labels */
    .stage-hint {
      position:absolute; left:12px; bottom:12px;
      font-size:12px; opacity:0.92;
      background: rgba(0,0,0,0.55);
      color:#fff;
      border:1px solid rgba(255,255,255,0.18);
      padding:8px 10px;
      border-radius:10px;
      pointer-events:none;
    }
    .stage-badge {
      position:absolute; right:12px; top:12px;
      font-size:12px; opacity:0.92;
      background: rgba(0,0,0,0.55);
      color:#fff;
      border:1px solid rgba(255,255,255,0.18);
      padding:8px 10px;
      border-radius:10px;
      pointer-events:none;
      max-width:70%;
      text-align:right;
      white-space: pre-line;
    }

    /* Output box */
    #burger-recipe-output {
      margin-top: 18px;
      padding: 14px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,0.12);
      background: rgba(255,255,255,0.96);
    }

    /* Hide helper */
    .hidden { display: none !important; }
  </style>
</head>

<body>
  <header id="main-header">
    <h1>Ultimate Burger Guide</h1>
  </header>

  <nav>
    <a href="index.html">Home</a>
    <a href="city_burgers.html">Best Burgers by City</a>
    <a href="recipe_cards.html">Recipe Cards</a>
    <a href="make_your_own.html">Make Your Own</a>
    <a href="burger_battles.html">Burger Battles</a>
    <a href="submit.html">Submit Your Pick</a>
    <a href="about.html">About</a>
  </nav>

  <main class="container my-3">
    <div class="text-center my-4">
      <h2>Interactive Burger Builder (3D)</h2>
      <p class="mb-0">Choose ingredients on the left. Burger updates live and auto-rotates.</p>
    </div>

    <div class="builder-wrap row g-0">
      <!-- LEFT -->
      <div class="col-lg-5">
        <div id="burger-builder" class="builder-panel">
          <h4>1. Pick a Bun (Required)</h4>
          <label><input type="radio" name="bun" value="brioche" checked> Brioche Bun</label>
          <label><input type="radio" name="bun" value="sesame"> Sesame Seed Bun</label>
          <label><input type="radio" name="bun" value="lettuce-wrap"> Lettuce Wrap</label>

          <h4>2. Pick a Patty (Required)</h4>
          <label><input type="radio" name="patty" value="beef" checked> Beef Patty</label>
          <label><input type="radio" name="patty" value="chicken"> Grilled Chicken</label>
          <label><input type="radio" name="patty" value="veggie"> Veggie Patty</label>

          <h4>3. Add Cheese (Optional)</h4>
          <label><input type="checkbox" name="cheese" value="american"> American Cheese</label>
          <label><input type="checkbox" name="cheese" value="cheddar"> Sharp Cheddar</label>
          <label><input type="checkbox" name="cheese" value="swiss"> Swiss Cheese</label>

          <h4>4. Add Toppings (Optional)</h4>
          <label><input type="checkbox" name="topping" value="lettuce"> Crisp Lettuce</label>
          <label><input type="checkbox" name="topping" value="tomato"> Fresh Tomato</label>
          <label><input type="checkbox" name="topping" value="onions"> Raw Onions</label>

          <button id="build-burger-button" type="button" class="btn btn-primary w-100 mt-3">
            Build My Burger!
          </button>
        </div>
      </div>

      <!-- RIGHT -->
      <div class="col-lg-7">
        <div class="stage-wrap">
          <div class="stage-perspective">
            <div class="burger-rotator" id="burgerRotator" aria-label="3D burger preview">
              <!-- Bun (Brioche/Sesame share same images; lettuce wrap has its own) -->
              <img id="bunBottom" class="burger-layer layer-bun z0"  src="bun-bottom.png" alt="">
              <img id="wrapBottom" class="burger-layer layer-bun z0 hidden" src="lettuce-wrap-bottom.png" alt="">

              <!-- Patty -->
              <img id="pattyBeef" class="burger-layer z10" src="patty-beef.png" alt="">
              <img id="pattyChicken" class="burger-layer z10 hidden" src="burger-layers/patty-chicken.png" alt="">
              <img id="pattyVeggie" class="burger-layer z10 hidden" src="burger-layers/patty-veggie.png" alt="">

              <!-- Cheese -->
              <img id="cheeseAmerican" class="burger-layer z20 hidden" src="burger-layers/cheese-american.png" alt="">
              <img id="cheeseCheddar"  class="burger-layer z20 hidden" src="burger-layers/cheese-cheddar.png" alt="">
              <img id="cheeseSwiss"    class="burger-layer z20 hidden" src="burger-layers/cheese-swiss.png" alt="">

              <!-- Toppings -->
              <img id="toppingOnions"  class="burger-layer z30 hidden" src="burger-layers/topping-onions.png" alt="">
              <img id="toppingTomato"  class="burger-layer z35 hidden" src="burger-layers/topping-tomato.png" alt="">
              <img id="toppingLettuce" class="burger-layer z40 hidden" src="burger-layers/topping-lettuce.png" alt="">

              <!-- Top bun -->
              <img id="bunTop" class="burger-layer layer-bun z25" src="burger-layers/bun-top.png" alt="">
              <img id="wrapTop" class="burger-layer layer-bun z25 hidden" src="burger-layers/lettuce-wrap-top.png" alt="">
            </div>
          </div>

          <div class="stage-hint">Auto-rotate • (No CDNs / no 3D libraries)</div>
          <div class="stage-badge" id="stageStatus">Status: Ready ✅</div>
        </div>
      </div>
    </div>

    <div id="burger-recipe-output" aria-live="polite">
      <b>Your build summary will appear here.</b><br />
      Choose ingredients, then click “Build My Burger!”.
    </div>

    <hr />

    <h2 class="text-center">Our Favorite Recipe Video</h2>
    <div class="video-container">
      <iframe width="560" height="315"
        src="https://www.youtube.com/embed/mwExFzKorws?si=Hy-q9s671xEPOBfs"
        title="YouTube video player" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
      </iframe>
    </div>
  </main>

  <footer>
    <p>© 2025 Ultimate Burger Guide</p>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Your existing scripts (optional) -->
  <script src="Scripts.js"></script>

  <!-- Google Translate (optional) -->
  <div id="google_translate_element" style="display: none;"></div>
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <script>
    function googleTranslateElementInit() {
      try { new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element'); }
      catch (e) {}
    }
  </script>

  <script>
    // --- Core burger logic (no external deps) ---
    const el = (id) => document.getElementById(id);

    const layerEls = {
      bunBottom: el("bunBottom"),
      bunTop: el("bunTop"),
      wrapBottom: el("wrapBottom"),
      wrapTop: el("wrapTop"),

      pattyBeef: el("pattyBeef"),
      pattyChicken: el("pattyChicken"),
      pattyVeggie: el("pattyVeggie"),

      cheeseAmerican: el("cheeseAmerican"),
      cheeseCheddar: el("cheeseCheddar"),
      cheeseSwiss: el("cheeseSwiss"),

      toppingLettuce: el("toppingLettuce"),
      toppingTomato: el("toppingTomato"),
      toppingOnions: el("toppingOnions"),
    };

    const LABEL = {
      bun: { brioche: "Brioche Bun", sesame: "Sesame Seed Bun", "lettuce-wrap": "Lettuce Wrap" },
      patty: { beef: "Beef Patty", chicken: "Grilled Chicken", veggie: "Veggie Patty" },
      cheese: { american: "American Cheese", cheddar: "Sharp Cheddar", swiss: "Swiss Cheese" },
      topping: { lettuce: "Crisp Lettuce", tomato: "Fresh Tomato", onions: "Raw Onions" }
    };

    function getRadioValue(name) {
      const checked = document.querySelector(`input[name="${name}"]:checked`);
      return checked ? checked.value : null;
    }
    function getCheckedValues(name) {
      return [...document.querySelectorAll(`input[name="${name}"]:checked`)].map(x => x.value);
    }
    function getConfig() {
      return {
        bun: getRadioValue("bun"),
        patty: getRadioValue("patty"),
        cheese: getCheckedValues("cheese"),
        topping: getCheckedValues("topping")
      };
    }

    function show(elem, on) {
      if (!elem) return;
      elem.classList.toggle("hidden", !on);
    }

    function updateBurgerVisual(cfg) {
      // Bun
      const useWrap = (cfg.bun === "lettuce-wrap");
      show(layerEls.bunBottom, !useWrap);
      show(layerEls.bunTop, !useWrap);
      show(layerEls.wrapBottom, useWrap);
      show(layerEls.wrapTop, useWrap);

      // Patty (exactly one)
      show(layerEls.pattyBeef, cfg.patty === "beef");
      show(layerEls.pattyChicken, cfg.patty === "chicken");
      show(layerEls.pattyVeggie, cfg.patty === "veggie");

      // Cheese (multi)
      show(layerEls.cheeseAmerican, cfg.cheese.includes("american"));
      show(layerEls.cheeseCheddar,  cfg.cheese.includes("cheddar"));
      show(layerEls.cheeseSwiss,    cfg.cheese.includes("swiss"));

      // Toppings (multi)
      show(layerEls.toppingLettuce, cfg.topping.includes("lettuce"));
      show(layerEls.toppingTomato,  cfg.topping.includes("tomato"));
      show(layerEls.toppingOnions,  cfg.topping.includes("onions"));
    }

    function buildSummary(cfg) {
      const bunText = LABEL.bun[cfg.bun] || cfg.bun || "—";
      const pattyText = LABEL.patty[cfg.patty] || cfg.patty || "—";
      const cheeseText = cfg.cheese.length ? cfg.cheese.map(c => LABEL.cheese[c] || c).join(", ") : "None";
      const toppingText = cfg.topping.length ? cfg.topping.map(t => LABEL.topping[t] || t).join(", ") : "None";

      el("burger-recipe-output").innerHTML =
        `<b>Your Burger Build:</b><br>` +
        `• Bun: ${bunText}<br>` +
        `• Patty: ${pattyText}<br>` +
        `• Cheese: ${cheeseText}<br>` +
        `• Toppings: ${toppingText}`;
    }

    // Initialize + live update
    document.addEventListener("DOMContentLoaded", () => {
      const builder = el("burger-builder");
      const cfg = getConfig();
      updateBurgerVisual(cfg);

      builder.addEventListener("change", () => {
        updateBurgerVisual(getConfig());
      });

      el("build-burger-button").addEventListener("click", (e) => {
        e.preventDefault();
        buildSummary(getConfig());
      });
    });
  </script>
</body>
</html>



